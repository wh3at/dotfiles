---
title: "Arbitrary | API Reference | fast-check | Property based testing framework"
source_url: "https://fast-check.dev/api-reference/classes/Arbitrary"
fetched_at: "2025-12-29T00:52:54.722856+00:00"
---



* [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)

# Class Arbitrary<T>`Abstract`

Abstract class able to generate values on type `T`

The values generated by an instance of Arbitrary can be previewed - with [sample](https://fast-check.dev/api-reference/functions/sample.html) - or classified - with [statistics](https://fast-check.dev/api-reference/functions/statistics.html).

#### Remarks

Since 0.0.7

#### Type Parameters

* T

* Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:14](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L14)

##### Index

### Constructors

[constructor](https://fast-check.dev/api-reference/classes/Arbitrary.html#constructor)

### Methods

[canShrinkWithoutContext](https://fast-check.dev/api-reference/classes/Arbitrary.html#canshrinkwithoutcontext)
[chain](https://fast-check.dev/api-reference/classes/Arbitrary.html#chain)
[filter](https://fast-check.dev/api-reference/classes/Arbitrary.html#filter)
[generate](https://fast-check.dev/api-reference/classes/Arbitrary.html#generate)
[map](https://fast-check.dev/api-reference/classes/Arbitrary.html#map)
[shrink](https://fast-check.dev/api-reference/classes/Arbitrary.html#shrink)

## Constructors

### constructor

* new Arbitrary<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#constructorarbitraryt)>(): [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

  #### Type Parameters

  + T

  #### Returns [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

## Methods

### `Abstract`canShrinkWithoutContext

* canShrinkWithoutContext(value: unknown): value is [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)

  Check if a given value could be pass to `shrink` without providing any context.

  In general, `canShrinkWithoutContext` is not designed to be called for each `shrink` but rather on very special cases.
  Its usage must be restricted to `canShrinkWithoutContext` or in the rare\* contexts of a `shrink` method being called without
  any context. In this ill-formed case of `shrink`, `canShrinkWithoutContext` could be used or called if needed.

  \*we fall in that case when fast-check is asked to shrink a value that has been provided manually by the user,
  in other words: a value not coming from a call to `generate` or a normal `shrink` with context.

  #### Parameters

  + value: unknown

    Value to be assessed

  #### Returns value is [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)

  `true` if and only if the value could have been generated by this instance

  #### Remarks

  Since 3.0.0

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:42](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L42)

### chain

* chain<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#chainu)>(chainer: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#chainu)>): [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#chainu)>

  Create another arbitrary by mapping a value from a base Arbirary using the provided `fmapper`
  Values produced by the new arbitrary are the result of the arbitrary generated by applying `fmapper` to a value

  #### Type Parameters

  + U

  #### Parameters

  + chainer: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#chainu)>

    Chain function, to produce a new Arbitrary using a value from another Arbitrary

  #### Returns [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#chainu)>

  New arbitrary of new type

  #### Example

  ```
  const arrayAndLimitArbitrary = fc.nat().chain((c: number) => fc.tuple( fc.array(fc.nat(c)), fc.constant(c)));
  Copy
  ```

  #### Remarks

  Since 1.2.0

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:140](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L140)

### filter

* filter<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#filteru)>(refinement: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => t is [U](https://fast-check.dev/api-reference/classes/Arbitrary.html#filteru)): [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#filteru)>

  Create another arbitrary by filtering values against `predicate`

  All the values produced by the resulting arbitrary
  satisfy `predicate(value) == true`

  Be aware that using filter may highly impact the time required to generate a valid entry

  #### Type Parameters

  + U

  #### Parameters

  + refinement: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => t is [U](https://fast-check.dev/api-reference/classes/Arbitrary.html#filteru)

    Predicate, to test each produced element. Return true to keep the element, false otherwise

  #### Returns [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#filteru)>

  New arbitrary filtered using predicate

  #### Example

  ```
  const integerGenerator: Arbitrary<number> = ...;
  const evenIntegerGenerator: Arbitrary<number> = integerGenerator.filter(e => e % 2 === 0);
  // new Arbitrary only keeps even values
  Copy
  ```

  #### Remarks

  Since 1.23.0

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:78](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L78)
* filter(predicate: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => boolean): [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

  Create another arbitrary by filtering values against `predicate`

  All the values produced by the resulting arbitrary
  satisfy `predicate(value) == true`

  Be aware that using filter may highly impact the time required to generate a valid entry

  #### Parameters

  + predicate: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => boolean

    Predicate, to test each produced element. Return true to keep the element, false otherwise

  #### Returns [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

  New arbitrary filtered using predicate

  #### Example

  ```
  const integerGenerator: Arbitrary<number> = ...;
  const evenIntegerGenerator: Arbitrary<number> = integerGenerator.filter(e => e % 2 === 0);
  // new Arbitrary only keeps even values
  Copy
  ```

  #### Remarks

  Since 0.0.1

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:99](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L99)

### `Abstract`generate

* generate(mrng: [Random](https://fast-check.dev/api-reference/classes/Random.html), biasFactor: number | undefined): [Value](https://fast-check.dev/api-reference/classes/Value.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

  Generate a value of type `T` along with its context (if any)
  based on the provided random number generator

  #### Parameters

  + mrng: [Random](https://fast-check.dev/api-reference/classes/Random.html)

    Random number generator
  + biasFactor: number | undefined

    If taken into account 1 value over biasFactor must be biased. Either integer value greater or equal to 2 (bias) or undefined (no bias)

  #### Returns [Value](https://fast-check.dev/api-reference/classes/Value.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>

  Random value of type `T` and its context

  #### Remarks

  Since 0.0.1 (return type changed in 3.0.0)

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:25](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L25)

### map

* map<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#mapu)>(mapper: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => [U](https://fast-check.dev/api-reference/classes/Arbitrary.html#mapu), unmapper?: (possiblyU: unknown) => [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)): [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#mapu)>

  Create another arbitrary by mapping all produced values using the provided `mapper`
  Values produced by the new arbitrary are the result of applying `mapper` value by value

  #### Type Parameters

  + U

  #### Parameters

  + mapper: (t: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)) => [U](https://fast-check.dev/api-reference/classes/Arbitrary.html#mapu)

    Map function, to produce a new element based on an old one
  + `Optional`unmapper: (possiblyU: unknown) => [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)

    Optional unmap function, it will never be used except when shrinking user defined values. Must throw if value is not compatible (since 3.0.0)

  #### Returns [Arbitrary](https://fast-check.dev/api-reference/classes/Arbitrary.html)<[U](https://fast-check.dev/api-reference/classes/Arbitrary.html#mapu)>

  New arbitrary with mapped elements

  #### Example

  ```
  const rgbChannels: Arbitrary<{r:number,g:number,b:number}> = ...;
  const color: Arbitrary<string> = rgbChannels.map(ch => `#${(ch.r*65536 + ch.g*256 + ch.b).toString(16).padStart(6, '0')}`);
  // transform an Arbitrary producing {r,g,b} integers into an Arbitrary of '#rrggbb'
  Copy
  ```

  #### Remarks

  Since 0.0.1

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:122](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L122)

### `Abstract`shrink

* shrink(value: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t), context: unknown): [Stream](https://fast-check.dev/api-reference/classes/Stream.html)<[Value](https://fast-check.dev/api-reference/classes/Value.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>>

  Shrink a value of type `T`, may rely on the context previously provided to shrink efficiently

  Must never be called with possibly invalid values and no context without ensuring that such call is legal
  by calling `canShrinkWithoutContext` first on the value.

  #### Parameters

  + value: [T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)

    The value to shrink
  + context: unknown

    Its associated context (the one returned by generate) or `undefined` if no context but `canShrinkWithoutContext(value) === true`

  #### Returns [Stream](https://fast-check.dev/api-reference/classes/Stream.html)<[Value](https://fast-check.dev/api-reference/classes/Value.html)<[T](https://fast-check.dev/api-reference/classes/Arbitrary.html#t)>>

  Stream of shrinks for value based on context (if provided)

  #### Remarks

  Since 3.0.0

  + Defined in [packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts:56](https://github.com/dubzzz/fast-check/blob/0053f7651f2ff4e6f259d946651a7ca7ff5a9115/packages/fast-check/src/check/arbitrary/definition/Arbitrary.ts#L56)

### Settings

Member Visibility

* Protected
* Inherited
* External

ThemeOSLightDark

### On This Page

Constructors

[constructor](https://fast-check.dev/api-reference/classes/Arbitrary.html#constructor)

Methods

[canShrinkWithoutContext](https://fast-check.dev/api-reference/classes/Arbitrary.html#canshrinkwithoutcontext)[chain](https://fast-check.dev/api-reference/classes/Arbitrary.html#chain)[filter](https://fast-check.dev/api-reference/classes/Arbitrary.html#filter)[generate](https://fast-check.dev/api-reference/classes/Arbitrary.html#generate)[map](https://fast-check.dev/api-reference/classes/Arbitrary.html#map)[shrink](https://fast-check.dev/api-reference/classes/Arbitrary.html#shrink)

[API Reference | fast-check | Property based testing framework](https://fast-check.dev/api-reference/index.html)

* Loading...
